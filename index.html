<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打工人时薪计算器</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --secondary-text: #666;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            margin: 0;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 30px;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid #eee;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            color: var(--secondary-text);
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="number"], input[type="time"], select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }

        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }

        .radio-group label {
            font-weight: normal;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-group input {
            margin-right: 5px;
        }

        button.calculate-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }

        button.calculate-btn:hover {
            background-color: #357abd;
        }

        .result-box {
            margin-top: 25px;
            padding: 20px;
            background-color: #eef6ff;
            border-radius: 8px;
            text-align: center;
            display: none;
        }

        .result-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Tooltip 样式 */
        .tooltip-icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            background: #ddd;
            color: #555;
            border-radius: 50%;
            text-align: center;
            line-height: 18px;
            font-size: 12px;
            cursor: help;
            margin-left: 8px;
            position: relative;
        }

        .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above */
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
            font-weight: normal;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .tooltip-icon:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .note {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>⏳ 真实时薪计算器</h1>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('simple')">简单记法</div>
        <div class="tab" onclick="switchTab('complex')">复杂记法 (真实工时)</div>
    </div>

    <!-- 简单模式 -->
    <div id="simple-section" class="section active">
        <div class="form-group">
            <label>月薪 (元) <span class="note">税后或税前，按你喜欢的填</span></label>
            <input type="number" id="s_salary" placeholder="例如：10000">
        </div>
        <div class="form-group">
            <label>本月工作天数 (天)</label>
            <input type="number" id="s_days" placeholder="例如：22">
        </div>
        <div class="form-group">
            <label>平均每天工作时长 (小时)</label>
            <input type="number" id="s_hours" placeholder="例如：8">
        </div>
        <button class="calculate-btn" onclick="calcSimple()">计算时薪</button>
        <div id="s_result" class="result-box">
            <div>您的时薪是</div>
            <div class="result-value">¥ <span id="s_val">0</span></div>
        </div>
    </div>

    <!-- 复杂模式 -->
    <div id="complex-section" class="section">
        <div class="form-group">
            <label>
                起始工作时间
                <div class="tooltip-icon">?
                    <span class="tooltip-text">请填写包括准备工作的时间、通勤的时间。也就是从你为了工作开始准备（洗漱、出门）的那一刻起。</span>
                </div>
            </label>
            <input type="time" id="c_start_time">
        </div>

        <div class="form-group">
            <label>
                结束工作时间
                <div class="tooltip-icon">?
                    <span class="tooltip-text">指的是真正可以放松的时间。包括通勤回家、应酬结束后、甚至到家后需要平复心情恢复体力的时间。</span>
                </div>
            </label>
            <input type="time" id="c_end_time">
        </div>

        <div class="form-group">
            <label>薪资标准</label>
            <div class="radio-group">
                <label><input type="radio" name="salary_type" value="month" checked onclick="toggleSalaryInput()"> 月薪制</label>
                <label><input type="radio" name="salary_type" value="year" onclick="toggleSalaryInput()"> 年薪制</label>
            </div>
        </div>

        <div class="form-group">
            <label id="salary_label">月薪金额 (元)</label>
            <input type="number" id="c_salary" placeholder="输入金额">
        </div>

        <div class="form-group">
            <label>这笔钱包含什么？</label>
            <select id="c_money_type">
                <option value="net">工资卡实际到账 (税后)</option>
                <option value="net_fund">工资卡 + 公积金 (全口径收入)</option>
                <option value="gross">税前合同工资</option>
            </select>
            <div class="note">* 此选项仅作记录展示，不影响计算公式</div>
        </div>

        <div class="form-group">
            <label>平均每月工作天数</label>
            <input type="number" id="c_days" value="21.75" placeholder="默认21.75天">
        </div>

        <button class="calculate-btn" onclick="calcComplex()">计算真实时薪</button>

        <div id="c_result" class="result-box">
            <div>按照 <span id="c_res_type_text" style="font-weight:bold"></span> 计算</div>
            <div>您为工作耗费的时间：<span id="c_res_hours" style="font-weight:bold">0</span> 小时/天</div>
            <div style="margin-top:10px">真实时薪是</div>
            <div class="result-value">¥ <span id="c_val">0</span></div>
        </div>
    </div>
</div>

<script>
    function switchTab(mode) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        
        if (mode === 'simple') {
            document.querySelector('.tab:nth-child(1)').classList.add('active');
            document.getElementById('simple-section').classList.add('active');
        } else {
            document.querySelector('.tab:nth-child(2)').classList.add('active');
            document.getElementById('complex-section').classList.add('active');
        }
    }

    function toggleSalaryInput() {
        const type = document.querySelector('input[name="salary_type"]:checked').value;
        const label = document.getElementById('salary_label');
        if (type === 'month') {
            label.textContent = "月薪金额 (元)";
        } else {
            label.textContent = "年薪总包 (元)";
        }
    }

    function calcSimple() {
        const salary = parseFloat(document.getElementById('s_salary').value);
        const days = parseFloat(document.getElementById('s_days').value);
        const hours = parseFloat(document.getElementById('s_hours').value);

        if (!salary || !days || !hours) {
            alert("请填写完整信息");
            return;
        }

        const hourlyRate = salary / (days * hours);
        document.getElementById('s_val').textContent = hourlyRate.toFixed(2);
        document.getElementById('s_result').style.display = 'block';
    }

    function calcComplex() {
        const startTime = document.getElementById('c_start_time').value;
        const endTime = document.getElementById('c_end_time').value;
        let salary = parseFloat(document.getElementById('c_salary').value);
        const salaryType = document.querySelector('input[name="salary_type"]:checked').value;
        const days = parseFloat(document.getElementById('c_days').value);
        
        // 获取收入类型文案
        const moneyTypeSelect = document.getElementById('c_money_type');
        const moneyTypeText = moneyTypeSelect.options[moneyTypeSelect.selectedIndex].text;

        if (!startTime || !endTime || !salary || !days) {
            alert("请填写完整信息");
            return;
        }

        // 计算时间差
        const start = new Date("2000-01-01 " + startTime);
        const end = new Date("2000-01-01 " + endTime);
        let diffMs = end - start;
        
        // 处理跨天 (比如晚上8点到凌晨2点)
        if (diffMs < 0) {
            diffMs += 24 * 60 * 60 * 1000;
        }
        
        const dailyHours = diffMs / (1000 * 60 * 60); // 转换为小时

        // 统一转换为月薪
        if (salaryType === 'year') {
            salary = salary / 12;
        }

        const hourlyRate = salary / (days * dailyHours);

        document.getElementById('c_res_type_text').textContent = moneyTypeText;
        document.getElementById('c_res_hours').textContent = dailyHours.toFixed(1);
        document.getElementById('c_val').textContent = hourlyRate.toFixed(2);
        document.getElementById('c_result').style.display = 'block';
    }
</script>

</body>
</html>
